{"remainingRequest":"/Users/testtest/Desktop/a trier/P7-Groupomania/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/testtest/Desktop/a trier/P7-Groupomania/frontend/src/components/AddComment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/testtest/Desktop/a trier/P7-Groupomania/frontend/src/components/AddComment.vue","mtime":1621264135310},{"path":"/Users/testtest/Desktop/a trier/P7-Groupomania/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/testtest/Desktop/a trier/P7-Groupomania/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/testtest/Desktop/a trier/P7-Groupomania/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/testtest/Desktop/a trier/P7-Groupomania/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdBZGRDb21tZW50JywKICAgIHByb3BzOiBbJ2lkJ10sCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICBjb21tZW50OiBudWxsLAogICAgICAgICAgICB0b2tlbjogbnVsbCwgCiAgICAgICAgICAgIHVzZXJJZDogbnVsbAogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCl7CiAgICAgICAgdGhpcy5nZXRJbmZvKCkKICAgICAgICBjb25zb2xlLmxvZygnY3JlYXRlZCBhZGRjb21tZW50JykKICAgIH0sCiAgICBtZXRob2RzOnsKICAgICAgICBhc3luYyBnZXRJbmZvKCl7CiAgICAgICAgICAgIHRoaXMudG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKICAgICAgICAgICAgdGhpcy51c2VySWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJyk7CiAgICAgICAgfSwKICAgICAgICBhc3luYyBhZGRDb21tZW50KCl7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdham91dGVyIGNvbW1lbnRhaXJlJykKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy51c2VySWQpCiAgICAgICAgICAgIGF3YWl0IGZldGNoKCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2NvbW1lbnQvY3JlYXRlQ29tbWVudCIsewogICAgICAgICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICAgICAgICBoZWFkZXJzOiAKICAgICAgICAgICAgICAgIHsgICAKICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb24gOiAnQmVhcmVyICcgKyB0aGlzLnRva2VuCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgIGNvbW1lbnQ6IHRoaXMuY29tbWVudCwKICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IHRoaXMudXNlcklkLAogICAgICAgICAgICAgICAgICAgIHBvc3RJZDogdGhpcy4kc3RvcmUuc3RhdGUucG9zdElkCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLnN0YXR1cyA9PSA0MDEpewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJDb21tZW50YWlyZSB2aWRlIikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLmNvbW1lbnQgPSBudWxsCiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2NvbW1lbnRzZW50JywgewogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdub3V2ZWF1IHBvc3QnLAogICAgICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["AddComment.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddComment.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div id=\"addComment\" @submit.prevent='addComment'>\n        <form action=\"post\">\n            <input type=\"text\" value=\"Commentaire\" name=\"comInput\" id=\"comInput\" v-model=\"comment\" required='true'>\n            <input type=\"submit\" placeholder=\"Ajouter un commentaire\" id=\"sendBtn\" class=\"btn btn-primary\">\n        </form>\n    </div>\n</template>\n<script>\nexport default {\n    name: 'AddComment',\n    props: ['id'],\n    data(){\n        return{\n            comment: null,\n            token: null, \n            userId: null\n        }\n    },\n    created(){\n        this.getInfo()\n        console.log('created addcomment')\n    },\n    methods:{\n        async getInfo(){\n            this.token = localStorage.getItem('token');\n            this.userId = localStorage.getItem('userId');\n        },\n        async addComment(){\n            console.log('ajouter commentaire')\n            console.log(this.userId)\n            await fetch(\"http://localhost:3000/api/comment/createComment\",{\n                method: \"POST\",\n                headers: \n                {   \n                    'Content-Type': 'application/json',\n                    authorization : 'Bearer ' + this.token\n                },\n                body: JSON.stringify({\n                    comment: this.comment,\n                    userId: this.userId,\n                    postId: this.$store.state.postId\n                })\n            }).then(response => {\n                if(response.status == 401){\n                    alert(\"Commentaire vide\")\n                }\n                console.log(response)\n                })\n            .catch(err => {\n                console.log(err)\n            });\n            this.comment = null\n            this.$emit('commentsent', {\n                    message: 'nouveau post',\n                })\n        }\n    }\n}\n</script>\n<style lang=\"scss\" scoped>\n#addComment{\n    display: flex;\n    text-align: center;\n}\nform{\n    width: 100%;\n}\n#comInput{\n    width: 70%;\n    margin-right: 1rem;\n}\n@media screen and (min-width: 200px) and (max-width: 900px) {\n    #addComment{\n        display: block;\n    }\n    #sendBtn{\n        padding: 5px;\n        margin-top: 5px;\n    }\n}\n</style>"]}]}