{"remainingRequest":"/Users/testtest/Desktop/P7-Groupomania/frontend/node_modules/babel-loader/lib/index.js!/Users/testtest/Desktop/P7-Groupomania/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/testtest/Desktop/P7-Groupomania/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/testtest/Desktop/P7-Groupomania/frontend/src/components/AddComment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/testtest/Desktop/P7-Groupomania/frontend/src/components/AddComment.vue","mtime":1620038819000},{"path":"/Users/testtest/Desktop/P7-Groupomania/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/testtest/Desktop/P7-Groupomania/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/testtest/Desktop/P7-Groupomania/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/testtest/Desktop/P7-Groupomania/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy90ZXN0dGVzdC9EZXNrdG9wL1A3LUdyb3Vwb21hbmlhL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBZGRDb21tZW50JywKICBwcm9wczogWydpZCddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb21tZW50OiBudWxsLAogICAgICB0b2tlbjogbnVsbCwKICAgICAgdXNlcklkOiBudWxsCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0SW5mbygpOwogICAgY29uc29sZS5sb2coJ2NyZWF0ZWQgYWRkY29tbWVudCcpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0SW5mbzogZnVuY3Rpb24gZ2V0SW5mbygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMudG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKICAgICAgICAgICAgICAgIF90aGlzLnVzZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySWQnKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZENvbW1lbnQ6IGZ1bmN0aW9uIGFkZENvbW1lbnQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdham91dGVyIGNvbW1lbnRhaXJlJyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczIudXNlcklkKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9jb21tZW50L2NyZWF0ZUNvbW1lbnQiLCB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiAnQmVhcmVyICcgKyBfdGhpczIudG9rZW4KICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgIGNvbW1lbnQ6IF90aGlzMi5jb21tZW50LAogICAgICAgICAgICAgICAgICAgIHVzZXJJZDogX3RoaXMyLnVzZXJJZCwKICAgICAgICAgICAgICAgICAgICBwb3N0SWQ6IF90aGlzMi4kc3RvcmUuc3RhdGUucG9zdElkCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDQwMSkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJDb21tZW50YWlyZSB2aWRlIik7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfdGhpczIuY29tbWVudCA9IG51bGw7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRlbWl0KCdjb21tZW50c2VudCcsIHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ25vdXZlYXUgcG9zdCcKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["AddComment.vue"],"names":[],"mappings":";;;;;;;;;;;AASA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,KAAA,EAAA,CAAA,IAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,IADA;AAEA,MAAA,KAAA,EAAA,IAFA;AAGA,MAAA,MAAA,EAAA;AAHA,KAAA;AAKA,GATA;AAUA,EAAA,OAVA,qBAUA;AACA,SAAA,OAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,oBAAA;AACA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,KAAA,GAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AACA,gBAAA,KAAA,CAAA,MAAA,GAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KAJA;AAKA,IAAA,UALA,wBAKA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,qBAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,MAAA;AAFA;AAAA,uBAGA,KAAA,CAAA,iDAAA,EAAA;AACA,kBAAA,MAAA,EAAA,MADA;AAEA,kBAAA,OAAA,EACA;AACA,oCAAA,kBADA;AAEA,oBAAA,aAAA,EAAA,YAAA,MAAA,CAAA;AAFA,mBAHA;AAOA,kBAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA;AACA,oBAAA,OAAA,EAAA,MAAA,CAAA,OADA;AAEA,oBAAA,MAAA,EAAA,MAAA,CAAA,MAFA;AAGA,oBAAA,MAAA,EAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA;AAHA,mBAAA;AAPA,iBAAA,CAAA,CAYA,IAZA,CAYA,UAAA,QAAA,EAAA;AACA,sBAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,oBAAA,KAAA,CAAA,kBAAA,CAAA;AACA;;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,iBAjBA,WAkBA,UAAA,GAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,iBApBA,CAHA;;AAAA;AAwBA,gBAAA,MAAA,CAAA,OAAA,GAAA,IAAA;;AACA,gBAAA,MAAA,CAAA,KAAA,CAAA,aAAA,EAAA;AACA,kBAAA,OAAA,EAAA;AADA,iBAAA;;AAzBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4BA;AAjCA;AAdA,CAAA","sourcesContent":["<template>\n    <div id=\"addComment\" @submit.prevent='addComment'>\n        <form action=\"post\">\n            <input type=\"text\" value=\"Commentaire\" name=\"comInput\" id=\"comInput\" v-model=\"comment\" required='true'>\n            <input type=\"submit\" placeholder=\"Ajouter un commentaire\" id=\"sendBtn\">\n        </form>\n    </div>\n</template>\n<script>\nexport default {\n    name: 'AddComment',\n    props: ['id'],\n    data(){\n        return{\n            comment: null,\n            token: null, \n            userId: null\n        }\n    },\n    created(){\n        this.getInfo()\n        console.log('created addcomment')\n    },\n    methods:{\n        async getInfo(){\n            this.token = localStorage.getItem('token');\n            this.userId = localStorage.getItem('userId');\n        },\n        async addComment(){\n            console.log('ajouter commentaire')\n            console.log(this.userId)\n            await fetch(\"http://localhost:3000/api/comment/createComment\",{\n                method: \"POST\",\n                headers: \n                {   \n                    'Content-Type': 'application/json',\n                    authorization : 'Bearer ' + this.token\n                },\n                body: JSON.stringify({\n                    comment: this.comment,\n                    userId: this.userId,\n                    postId: this.$store.state.postId\n                })\n            }).then(response => {\n                if(response.status == 401){\n                    alert(\"Commentaire vide\")\n                }\n                console.log(response)\n                })\n            .catch(err => {\n                console.log(err)\n            });\n            this.comment = null\n            this.$emit('commentsent', {\n                    message: 'nouveau post',\n                })\n        }\n    }\n}\n</script>\n<style lang=\"scss\" scoped>\n#addComment{\n    display: flex;\n    text-align: center;\n}\nform{\n    width: 100%;\n}\n#comInput{\n    width: 70%;\n    margin-right: 1rem;\n}\n#sendBtn{\n    width: fit-content;\n    border: none;\n    background-color: dodgerblue;\n    border-radius: 1rem;\n    color: white;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n    padding: 7px;\n}\n@media screen and (min-width: 200px) and (max-width: 900px) {\n    #addComment{\n        display: block;\n    }\n    #sendBtn{\n        padding: 5px;\n        margin-top: 5px;\n    }\n}\n</style>"],"sourceRoot":"src/components"}]}