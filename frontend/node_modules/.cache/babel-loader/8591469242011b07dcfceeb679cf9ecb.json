{"remainingRequest":"/Users/testtest/Desktop/a trier/P7-Groupomania/frontend/node_modules/babel-loader/lib/index.js!/Users/testtest/Desktop/a trier/P7-Groupomania/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/testtest/Desktop/a trier/P7-Groupomania/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/testtest/Desktop/a trier/P7-Groupomania/frontend/src/components/AddComment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/testtest/Desktop/a trier/P7-Groupomania/frontend/src/components/AddComment.vue","mtime":1621264135310},{"path":"/Users/testtest/Desktop/a trier/P7-Groupomania/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/testtest/Desktop/a trier/P7-Groupomania/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/testtest/Desktop/a trier/P7-Groupomania/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/testtest/Desktop/a trier/P7-Groupomania/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy90ZXN0dGVzdC9EZXNrdG9wL2EgdHJpZXIvUDctR3JvdXBvbWFuaWEvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FkZENvbW1lbnQnLAogIHByb3BzOiBbJ2lkJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbW1lbnQ6IG51bGwsCiAgICAgIHRva2VuOiBudWxsLAogICAgICB1c2VySWQ6IG51bGwKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRJbmZvKCk7CiAgICBjb25zb2xlLmxvZygnY3JlYXRlZCBhZGRjb21tZW50Jyk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRJbmZvOiBmdW5jdGlvbiBnZXRJbmZvKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy50b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogICAgICAgICAgICAgICAgX3RoaXMudXNlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWRkQ29tbWVudDogZnVuY3Rpb24gYWRkQ29tbWVudCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Fqb3V0ZXIgY29tbWVudGFpcmUnKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzMi51c2VySWQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2NvbW1lbnQvY3JlYXRlQ29tbWVudCIsIHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246ICdCZWFyZXIgJyArIF90aGlzMi50b2tlbgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgICAgY29tbWVudDogX3RoaXMyLmNvbW1lbnQsCiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBfdGhpczIudXNlcklkLAogICAgICAgICAgICAgICAgICAgIHBvc3RJZDogX3RoaXMyLiRzdG9yZS5zdGF0ZS5wb3N0SWQKICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gNDAxKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIkNvbW1lbnRhaXJlIHZpZGUiKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF90aGlzMi5jb21tZW50ID0gbnVsbDsKCiAgICAgICAgICAgICAgICBfdGhpczIuJGVtaXQoJ2NvbW1lbnRzZW50JywgewogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnbm91dmVhdSBwb3N0JwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["AddComment.vue"],"names":[],"mappings":";;;;;;;;;;;AASA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,KAAA,EAAA,CAAA,IAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,IADA;AAEA,MAAA,KAAA,EAAA,IAFA;AAGA,MAAA,MAAA,EAAA;AAHA,KAAA;AAKA,GATA;AAUA,EAAA,OAVA,qBAUA;AACA,SAAA,OAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,oBAAA;AACA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,KAAA,GAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AACA,gBAAA,KAAA,CAAA,MAAA,GAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KAJA;AAKA,IAAA,UALA,wBAKA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,qBAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,MAAA;AAFA;AAAA,uBAGA,KAAA,CAAA,iDAAA,EAAA;AACA,kBAAA,MAAA,EAAA,MADA;AAEA,kBAAA,OAAA,EACA;AACA,oCAAA,kBADA;AAEA,oBAAA,aAAA,EAAA,YAAA,MAAA,CAAA;AAFA,mBAHA;AAOA,kBAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA;AACA,oBAAA,OAAA,EAAA,MAAA,CAAA,OADA;AAEA,oBAAA,MAAA,EAAA,MAAA,CAAA,MAFA;AAGA,oBAAA,MAAA,EAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA;AAHA,mBAAA;AAPA,iBAAA,CAAA,CAYA,IAZA,CAYA,UAAA,QAAA,EAAA;AACA,sBAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,oBAAA,KAAA,CAAA,kBAAA,CAAA;AACA;;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,iBAjBA,WAkBA,UAAA,GAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,iBApBA,CAHA;;AAAA;AAwBA,gBAAA,MAAA,CAAA,OAAA,GAAA,IAAA;;AACA,gBAAA,MAAA,CAAA,KAAA,CAAA,aAAA,EAAA;AACA,kBAAA,OAAA,EAAA;AADA,iBAAA;;AAzBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4BA;AAjCA;AAdA,CAAA","sourcesContent":["<template>\n    <div id=\"addComment\" @submit.prevent='addComment'>\n        <form action=\"post\">\n            <input type=\"text\" value=\"Commentaire\" name=\"comInput\" id=\"comInput\" v-model=\"comment\" required='true'>\n            <input type=\"submit\" placeholder=\"Ajouter un commentaire\" id=\"sendBtn\" class=\"btn btn-primary\">\n        </form>\n    </div>\n</template>\n<script>\nexport default {\n    name: 'AddComment',\n    props: ['id'],\n    data(){\n        return{\n            comment: null,\n            token: null, \n            userId: null\n        }\n    },\n    created(){\n        this.getInfo()\n        console.log('created addcomment')\n    },\n    methods:{\n        async getInfo(){\n            this.token = localStorage.getItem('token');\n            this.userId = localStorage.getItem('userId');\n        },\n        async addComment(){\n            console.log('ajouter commentaire')\n            console.log(this.userId)\n            await fetch(\"http://localhost:3000/api/comment/createComment\",{\n                method: \"POST\",\n                headers: \n                {   \n                    'Content-Type': 'application/json',\n                    authorization : 'Bearer ' + this.token\n                },\n                body: JSON.stringify({\n                    comment: this.comment,\n                    userId: this.userId,\n                    postId: this.$store.state.postId\n                })\n            }).then(response => {\n                if(response.status == 401){\n                    alert(\"Commentaire vide\")\n                }\n                console.log(response)\n                })\n            .catch(err => {\n                console.log(err)\n            });\n            this.comment = null\n            this.$emit('commentsent', {\n                    message: 'nouveau post',\n                })\n        }\n    }\n}\n</script>\n<style lang=\"scss\" scoped>\n#addComment{\n    display: flex;\n    text-align: center;\n}\nform{\n    width: 100%;\n}\n#comInput{\n    width: 70%;\n    margin-right: 1rem;\n}\n@media screen and (min-width: 200px) and (max-width: 900px) {\n    #addComment{\n        display: block;\n    }\n    #sendBtn{\n        padding: 5px;\n        margin-top: 5px;\n    }\n}\n</style>"],"sourceRoot":"src/components"}]}